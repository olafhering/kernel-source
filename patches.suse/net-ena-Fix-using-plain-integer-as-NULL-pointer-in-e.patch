From: Wang Hai <wanghai38@huawei.com>
Date: Mon, 20 Jul 2020 15:56:14 +0800
Subject: net: ena: Fix using plain integer as NULL pointer in
 ena_init_napi_in_range
Patch-mainline: v5.9-rc1
Git-commit: d89d8d4db48b42d22c5b0e0e8a3f82dd00262c44
References: bsc#1197099 jsc#SLE-24124

Fix sparse build warning:

drivers/net/ethernet/amazon/ena/ena_netdev.c:2193:34: warning:
 Using plain integer as NULL pointer

Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Wang Hai <wanghai38@huawei.com>
Suggested-by: Joe Perches <joe@perches.com>
Acked-by: Shay Agroskin <shayagr@amazon.com>
Acked-by: Shay Agroskin <shayagr@amazon.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/amazon/ena/ena_netdev.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

--- a/drivers/net/ethernet/amazon/ena/ena_netdev.c
+++ b/drivers/net/ethernet/amazon/ena/ena_netdev.c
@@ -1562,14 +1562,13 @@ static void ena_del_napi(struct ena_adap
 
 static void ena_init_napi(struct ena_adapter *adapter)
 {
-	struct ena_napi *napi;
 	int i;
 
 	for (i = 0; i < adapter->num_io_queues; i++) {
-		napi = &adapter->ena_napi[i];
+		struct ena_napi *napi = &adapter->ena_napi[i];
 
 		netif_napi_add(adapter->netdev,
-			       &adapter->ena_napi[i].napi,
+			       &napi->napi,
 			       ena_io_poll,
 			       ENA_NAPI_BUDGET);
 		napi->rx_ring = &adapter->rx_ring[i];
