From: NeilBrown <neilb@suse.de>
Subject: NFS: mark nfsiod as CPU_INTENSIVE
References: bsc#1177304
Patch-mainline: never, maintainer wants are more general solution

Very occasionally nfsiod will be called on to call iput_final() on an
inode.  If that inode has millions of pages it can take a while to fully
clean up.  This blocks all other wq workers on that CPU, despite the
fact that cond_resync() is being called.

If we mark the workqueue CPU_INTENSIVE, those workers can run in
parallel with the iput_final().

This is likely to increase the number of worker threads but as most work
items complete extremely quickly, it won't increase it much.

Signed-off-by: NeilBrown <neilb@suse.de>
